(this.webpackJsonpvenuelocator=this.webpackJsonpvenuelocator||[]).push([[0],{146:function(e,t,n){"use strict";(function(e){var a=n(147),o=n(37),r=n(82),l=n.n(r),i=n(83),s=n(84),c=n(87),d=n(85),u=n(88),h=n(0),p=n.n(h),m=n(86),f=(n(157),n(23));n(354).config({path:e+"../server/config/.env"}),console.log("production");var g="https://maps.googleapis.com/maps/api/js?key=";g="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places";var v=Object(m.a)(Object(m.b)({googleMapURL:g,loadingElement:p.a.createElement("div",{style:{height:"100%"}}),containerElement:p.a.createElement("div",{style:{height:"100%"}}),mapElement:p.a.createElement("div",{style:{height:"100%"}})}),f.withScriptjs,f.withGoogleMap)((function(e){return p.a.createElement(f.GoogleMap,{defaultZoom:10,center:{lat:e.center.lat,lng:e.center.lng}},e.venues.map((function(t,n){return console.log(t),p.a.createElement(f.Marker,{key:t.id,position:{lat:t.location.lat,lng:t.location.lng},onMouseOver:function(){return e.handleToggleMouse(t.id)},onMouseOut:function(){return e.handleToggleMouse("")},onClick:function(){e.handleOpen(t.id)}},e.openHoverInfoWindow===t.id&&p.a.createElement(f.InfoWindow,{options:{maxWidth:"200",disableAutoPan:!0}},p.a.createElement("div",null,p.a.createElement("h6",null,t.name),p.a.createElement("p",{style:{marginBottom:"2px"}},t.location.formattedAddress.toString()),p.a.createElement("div",null,p.a.createElement("img",{alt:"",style:{verticalAlign:"middle"},src:t.categories[0].icon.prefix+"bg_32"+t.categories[0].icon.suffix}),p.a.createElement("span",{style:{verticalAlign:"middle",paddingLeft:"8px"}},t.categories[0].name)))),e.openInfoWindow===t.id&&p.a.createElement(f.InfoWindow,{options:{maxWidth:"320",maxHeight:"500"},onCloseClick:function(){return e.handleClose()}},p.a.createElement("div",null,p.a.createElement("div",null,p.a.createElement("img",{alt:"",style:{float:"left",paddingRight:"8px"},src:t.details.venue.bestPhoto.prefix+"100x100"+t.details.venue.bestPhoto.suffix}),p.a.createElement("div",null,p.a.createElement("h6",{style:{paddingLeft:"8px"}},t.details.venue.name),p.a.createElement("i",{style:{float:"left",paddingRight:"5px"},className:"far fa-clock"}),p.a.createElement("p",{style:{marginBottom:"2px"}},t.details.venue.hours.status||"Check website"),p.a.createElement("i",{style:{float:"left",paddingRight:"5px"},class:"fas fa-phone"}),p.a.createElement("p",{style:{marginBottom:"2px"}},t.details.venue.contact.phone||"Check website"),p.a.createElement("i",{style:{paddingRight:"5px"},className:"fas fa-globe"}),p.a.createElement("a",{href:t.details.venue.url,target:"_blank",rel:"noopener noreferrer"},t.details.venue.url))),p.a.createElement("div",{style:{paddingTop:"10px"}},p.a.createElement("i",{style:{float:"left",paddingRight:"5px"},className:"fas fa-map-marker"}),p.a.createElement("p",{style:{marginBottom:"2px"}},t.details.venue.location.formattedAddress.toString())),p.a.createElement("i",{style:{float:"left",paddingRight:"5px"},class:"fas fa-dollar-sign"}),p.a.createElement("p",{defaultValue:"Moderate",style:{marginBottom:"2px"}},t.details.venue.price.message||"Moderate"))))})))})),y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={venues:[],openInfoWindowMarkerID:"",openHoverInfoWindow:"",center:{lat:40.7,lng:-74}},n.handleToggleMouse=function(e){""===n.state.openInfoWindowMarkerID&&n.setState({openHoverInfoWindow:e})},n.handleOpen=function(e){n.state.openHoverInfoWindow&&n.setState({openHoverInfoWindow:""}),n.state.venues.filter((function(t){return t.id===e}))[0].details?n.setState({openInfoWindowMarkerID:e}):n.getVenueDetails(e).then((function(t){n.setState({openInfoWindowMarkerID:e})}))},n.handleClose=function(){n.setState({openInfoWindowMarkerID:""})},n.handleFormData=function(e){n.setState({venues:e,center:{lat:e[0].location.lat,lng:e[0].location.lng}})},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getVenueDetails",value:function(e){var t,n=this;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(fetch("http://localhost:5000/venuedetails/"+e,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=!0,o=!1,r=void 0;try{for(var l,i=n.state.venues[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var s=l.value;if(console.log(n.state.venues),s.id===e)return s.details=t.response,t.response.venue.price||(s.price={message:"Moderate"}),t.response.venue.hours||(s.hours={status:"Check Website"}),void(t.response.venue.contact.phone||(s.contact={phone:"Check Website"}))}}catch(c){o=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement("div",null,p.a.createElement(b,{handleData:this.handleFormData,loadSavedVenues:this.loadSavedVenues})),p.a.createElement("div",{class:"map",style:{height:"100vh",width:"100vw",padding:"4vh",paddingTop:"9vh",position:"relative"}},p.a.createElement(v,{center:this.state.center,openInfoWindow:this.state.openInfoWindowMarkerID,openHoverInfoWindow:this.state.openHoverInfoWindow,venues:this.state.venues,handleOpen:this.handleOpen,handleClose:this.handleClose,handleToggleMouse:this.handleToggleMouse})))}}]),t}(p.a.PureComponent),b=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={query:"",location:"New York, NY"},n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(a.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this,n=new URL("http://localhost:5000/searchvenues"),a={query:this.state.query,near:this.state.location};n.search=new URLSearchParams(a).toString(),fetch(n,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.handleData(e)})),e.preventDefault()}},{key:"render",value:function(){var e={float:"left",display:"flex",flexDirection:"row",flex:"1",position:"relative",width:"50%",whiteSpace:"nowrap",color:"#000000",fontWeight:"500",borderColor:"#000000"},t={color:"#000000",borderColor:"#000000",borderWidth:"1px",textAlign:"center",zIndex:"1",outline:"none"},n={color:"#000000",borderColor:"#000000",borderWidth:"1px",textAlign:"center",zIndex:"1",outline:"none"};return p.a.createElement("div",{class:"input",style:{paddingLeft:"4vh",paddingTop:"2vh",position:"relative",borderColor:"#000000"}},p.a.createElement("div",{class:"searchdiv"},p.a.createElement("form",{style:e,onSubmit:this.handleSubmit},p.a.createElement("span",{style:e,class:"fa-border"},"Venue Locator"),p.a.createElement("button",{style:n,className:"fas fa-search fa-border",disabled:!0}),p.a.createElement("input",{type:"text",style:t,name:"query",onChange:this.handleChange,placeholder:"Search"}),p.a.createElement("button",{style:n,className:"fas fa-map-marker-alt fa-border",disabled:!0}),p.a.createElement("input",{style:t,type:"text",name:"location",onChange:this.handleChange,placeholder:"New York, NY"}),p.a.createElement("button",{style:n,type:"submit"},p.a.createElement("i",{className:"fas fa-arrow-right"})))))}}]),t}(h.Component);t.a=y}).call(this,"/")},149:function(e,t,n){e.exports=n(357)},154:function(e,t,n){},157:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(57),l=n.n(r),i=(n(154),n(146));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[149,1,2]]]);
//# sourceMappingURL=main.6621b4c6.chunk.js.map